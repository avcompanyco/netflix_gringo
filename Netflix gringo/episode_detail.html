<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Episode Title | Series Name | Movie Platform</title> <!-- Placeholder Title -->
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/brand_styles.css">
    <link rel="stylesheet" href="assets/css/episode_detail_page.css"> <!-- Link new CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="detail-page-wrapper">
        <div class="back-button-container-top">
            <a href="javascript:history.back()" class="btn btn-secondary btn-sm">&laquo; Back</a>
        </div>

        <div class="player-area-wrapper">
            <div class="video-player-container">
                <div class="video-placeholder">
                    <span class="play-icon">&#9658;</span> <!-- Unicode Play Icon -->
                    <p>Episode Video Placeholder</p>
                </div>
            </div>
        </div>

        <div class="detail-content-wrapper"> <!-- Was movie-content-wrapper -->
            <div class="detail-header"> <!-- Was movie-header -->
                <h1 class="item-title-detail">S1 E1: The Pilot Episode</h1> <!-- Was movie-title-detail -->
                <p class="series-title-link">Part of: <a href="series_detail.html?id=seriesXYZ">The Future Chronicles</a></p>
                <div class="action-buttons-group">
                    <button class="btn btn-primary btn-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-play-fill btn-icon" viewBox="0 0 16 16">
                            <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
                        </svg>
                        Play Episode
                    </button>
                    <button id="markWatchedBtn" class="btn btn-outline-secondary btn-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-check2-square btn-icon" viewBox="0 0 16 16">
                           <path d="M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3z"/>
                           <path d="m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"/>
                        </svg>
                        Mark as Watched
                    </button>
                </div>
            </div>

            <p class="synopsis">
                This is the placeholder synopsis for the first episode. It introduces key characters and sets up the main conflict of the series.
                Viewers will be hooked by the intriguing plot twists and compelling performances.
            </p>

            <div class="metadata-section">
                <h3>Episode Details</h3>
                <div class="meta-item">
                    <span class="meta-label">Series:</span>
                    <span class="meta-value"><a href="series_detail.html?id=seriesXYZ">The Future Chronicles</a></span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Season:</span>
                    <span class="meta-value">1</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Episode:</span>
                    <span class="meta-value">1</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Air Date:</span>
                    <span class="meta-value">2023-03-01</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Duration:</span>
                    <span class="meta-value">48min</span>
                </div>
            </div>

            <div class="related-content-section"> <!-- Was related-movies-section -->
                <h3>Next Episodes</h3>
                <div class="related-content-grid"> <!-- Was related-movies-grid -->
                    <div class="related-item-card-placeholder"><div class="thumbnail-placeholder"></div><p>S1 E2: First Contact</p></div> <!-- Was related-movie-card-placeholder -->
                    <div class="related-item-card-placeholder"><div class="thumbnail-placeholder"></div><p>S1 E3: Whispers of Time</p></div> <!-- Was related-movie-card-placeholder -->
                    <div class="related-item-card-placeholder"><div class="thumbnail-placeholder"></div><p>S1 E4: The Alliance</p></div> <!-- Was related-movie-card-placeholder -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="dashboard.html" class="nav-item">
            <img src="assets/img/home.svg" alt="Home" class="nav-icon">
            <span>Home</span>
        </a>
        <a href="search.html" class="nav-item">
            <img src="assets/img/search.svg" alt="Explore" class="nav-icon">
            <span>Explore</span>
        </a>
        <a href="my_content.html" class="nav-item">
            <img src="assets/img/clip.svg" alt="Clips" class="nav-icon">
            <span>Channel</span>
        </a>
        <a href="upload.html" class="nav-item">
            <img src="assets/img/upload.svg" alt="Upload" class="nav-icon">
            <span>Upload</span>
        </a>
        <a href="my_account.html" class="nav-item">
            <img src="assets/img/Jhon.webp" alt="Profile" class="nav-icon nav-profile-img"> <!-- Replaced inline style with class -->
            <span>Profile</span>
        </a>
    </nav>

    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const markWatchedBtn = document.getElementById('markWatchedBtn');
            if (markWatchedBtn) {
                let isWatched = false; // Initial conceptual state

                const originalButtonSVGClass = "bi bi-check2-square btn-icon";
                const originalButtonText = "Mark as Watched";

                const watchedButtonSVGClass = "bi bi-check-circle-fill btn-icon";
                const watchedButtonText = "Watched";

                // Function to set button content
                function setButtonContent(isCurrentlyWatched) {
                    const svgClass = isCurrentlyWatched ? watchedButtonSVGClass : originalButtonSVGClass;
                    const text = isCurrentlyWatched ? watchedButtonText : originalButtonText;
                    const svgPath = isCurrentlyWatched ?
                        "M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" :
                        "M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5H3zM8.354 10.354l7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z";

                    markWatchedBtn.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="${svgClass}" viewBox="0 0 16 16">
                            <path d="${svgPath}"/>
                        </svg>
                        ${text}`;
                }

                // Set initial button state
                setButtonContent(isWatched);

                markWatchedBtn.addEventListener('click', () => {
                    isWatched = !isWatched;
                    setButtonContent(isWatched); // Update button content based on new state

                    if (isWatched) {
                        markWatchedBtn.classList.remove('btn-outline-secondary');
                        markWatchedBtn.classList.add('btn-success');
                        // alert('Marked as watched! (Conceptual)'); // Alerts removed for cleaner testing
                    } else {
                        markWatchedBtn.classList.remove('btn-success');
                        markWatchedBtn.classList.add('btn-outline-secondary');
                        // alert('Marked as unwatched! (Conceptual)'); // Alerts removed for cleaner testing
                    }
                });
            }
        });
    </script>
</body>
</html>
